<p-toast></p-toast>
<div class="row">
  <div class="col-12">
    <app-card cardTitle="Creation Groupe Competence" headerClass="borderless" cardClass="table-card review-card" style="min-height: 50px">
      <div class="review-block">
        <div class="row">
          <div class="col-xl-12">
            <form [formGroup]="formGroupeCompetence" (ngSubmit)="onSubmit()"  style="height: 405px">
              <div class="row">
                <label for="libelle" class="col-sm-2 col-form-label">Libelle</label>
                <div class="col-sm-6">
                  <input  formControlName="libelle" type="text" class="form-control" id="libelle" placeholder="Ecrire libelle">
                </div>
                <div class="col-sm-4">
                  <p-message severity="error" text="Libelle is required"
                             *ngIf="!formGroupeCompetence.controls['libelle'].valid && formGroupeCompetence.controls['libelle'].dirty"></p-message>
                </div>
              </div>
              <br>
              <div class="row">
                <label for="descriptif" class="col-sm-2 col-form-label">Descriptif</label>
                <div class="col-sm-6">
                  <textarea formControlName="descriptif" class="form-control" id="descriptif" placeholder="Ecrire le descriptif"></textarea>
                </div>
                <div class="col-sm-4">
                  <p-message severity="error" text="descriptif is required"
                             *ngIf="!formGroupeCompetence.controls['descriptif'].valid && formGroupeCompetence.controls['descriptif'].dirty"></p-message>
                </div>
              </div>
              <br>
              <div class="row">
                <label for="competence" class="col-sm-2 col-form-label">Competences</label>
                <div class="col-sm-6">
                  <p-autoComplete formControlName="competence" id="competence" [(ngModel)]="selectedCompetenceAdvanced" [suggestions]="filteredCompetences"
                                  (completeMethod)="filterCompetence($event)" field="libelle"
                                  [multiple]="true" [dropdown]="true" placeholder="Selectionner les competences">
                    <ng-template let-competence pTemplate="item">
                      <div class="country-item">
                        <div>{{competence.libelle}}</div>
                      </div>
                    </ng-template>
                  </p-autoComplete>
                </div>
                <div class="col-sm-4">
                  <p-message severity="error" text="competence is required"
                             *ngIf="!formGroupeCompetence.controls['competence'].valid && formGroupeCompetence.controls['competence'].dirty"></p-message>
                </div>
              </div>
              <br>
              <div class="row">
                <label for="nouvellecompetence" class="col-sm-2 col-form-label">Nouvelles Competences</label>
                <div class="col-sm-10">
                  <p-chips formControlName="nouvellecompetences" id="nouvellecompetence"  placeholder="Creer nouvelles competences"
                           [(ngModel)]="competences" name="nouvellecompetence"></p-chips>
                </div>
              </div>
              <br>
              <div class="row">
                <div class="col-xl-6 col-md-12">
                  <button [disabled]="!formGroupeCompetence.valid" pButton pRipple type="submit" label="Ajouter" class="p-button-success"></button>
                </div>
              </div>
            </form>
          </div>
        </div>

      </div>
    </app-card>
  </div>
</div>
